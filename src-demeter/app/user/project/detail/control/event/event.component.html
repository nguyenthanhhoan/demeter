<div class="dmt-form">
  <div
    class="event"
    *ngFor="let event of device.events">
    <div class="condition first-line">
      <span class="lower-form-control">{{event.lower_limit}}</span>
      <img
        class="greater-icon"
        src="assets/img/demeter/icon/greater.png" alt="greater_icon">
      <select
        class="form-control sensor-form-control"
        disabled
        [(ngModel)]="event.sensor_id">
        <option disabled value="">Sensor</option>
        <option
          *ngFor="let sensor of sensors"
         [value]="sensor.uuid">{{sensor.name}}</option>
      </select>
      <img
        class="greater-icon"
        src="assets/img/demeter/icon/greater.png" alt="greater_icon">
        <span class="upper-form-control">{{event.upper_limit}}</span>
    </div>
    <div class="condition second-line">
      <div class="lower-form-control">
        <span class="limit-value">{{ event.lower_limit_value === 1 ? 'On': 'Off' }}</span>
      </div>
      <div class="sensor-form-control">
        <div class="delete-action-wrap">
          <div 
            class="delete-btn"
            (click)="remove(event)"
            >x</div>
        </div>
      </div>
      <div class="upper-form-control">
        <span class="limit-value">{{ event.upper_limit_value === 1 ? 'On': 'Off' }}</span>
      </div>
    </div>
  </div>
  <div
    class="div btn-wrap">
    <button
      (click)="updateDevice()"
      *ngIf="device.events.length > 0"
      class="dmt-btn btn-primary">Save</button>
    <button
      (click)="addRule()"
      *ngIf="device.events.length < 5"
      class="dmt-btn btn-primary">Add</button>
  </div>
</div>

<event-rule #eventRuleModal [sensors]="sensors"></event-rule>