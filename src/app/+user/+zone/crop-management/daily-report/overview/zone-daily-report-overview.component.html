<form class="smart-form">
  <header>Irrigation Report</header>
  <fieldset>
    <section>
      <button 
        class="demeter-btn create-btn primary pull-right"
        (click)="irrigationForm.open()">Add</button>
      <table class="table table-hover table-bordered">
        <thead>
          <tr>
            <th>No.</th>
            <th>Time</th>
            <th>Event</th>
            <th>Duration (s)</th>
            <th>EC</th>
            <th>pH</th>
            <th>Fertilizers</th>
            <th>Concentration (gr/l)</th>
            <th>Amount (l/m2)</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let irrigation of irrigations; let i = index;" class="demeter-pane">
            <td>{{i + 1}}
            <td>{{irrigation.time}}</td>
            <td>{{irrigation.event.label}}</td>
            <td>{{irrigation.duration}}</td>
            <td>{{irrigation.ec}}</td>
            <td>{{irrigation.ph}}</td>
            <td>{{irrigation.fertilizer}}</td>
            <td>{{irrigation.concentration}}</td>
            <td>{{irrigation.amount}}</td>
            <td class="col-actions">
              <a (click)="irrigationForm.open(irrigation)">
                <i class="fa fa-pencil" aria-hidden="true"></i>
              </a>
              <a class="delete-action" (click)="remove(irrigation, 'Irrigation')">
                <i class="fa fa-trash-o" aria-hidden="true"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  </fieldset>

  <header>Pests / Disease Report</header>
  <fieldset>
    <section>
      <button 
        class="demeter-btn create-btn primary pull-right"
        (click)="pestDiseaseForm.open()">Add</button>
      <table class="table table-hover table-bordered">
        <thead>
          <tr>
            <th>No.</th>
            <th>Disease / Pests / Weeds</th>
            <th>Type</th>
            <th>Percentage (%)</th>
            <th>Action</th>
            <th>Pesticides</th>
            <th>Concentration (gr/l)</th>
            <th>Amount (l/m2)</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pest_disease of pest_diseases; let i = index" class="demeter-pane">
            <td>{{ i + 1 }}</td>
            <td>{{pest_disease.type}}</td>
            <td>{{pest_disease.sub_type}}</td>
            <td>{{pest_disease.situation}}</td>
            <td></td>
            <td>{{pest_disease.pesticides}}</td>
            <td>{{pest_disease.concentration}}</td>
            <td>{{pest_disease.amount}}</td>
            <td class="col-actions">
              <a (click)="pestDiseaseForm.open(pest_disease)">
                <i class="fa fa-pencil" aria-hidden="true"></i>
              </a>
              <a class="delete-action" (click)="remove(pest_disease, 'Pests / Disease')">
                <i class="fa fa-trash-o" aria-hidden="true"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  </fieldset>

  <header>Image Report</header>
  <fieldset>
    <section class="no-margin">
      <button 
        class="demeter-btn create-btn primary pull-right"
        (click)="imageReportForm.open()">Add</button>
    </section>
    <section *ngFor="let image_report_group of image_report_groups">
      <p>{{image_report_group.type_name}}</p>
      <div class="row" image-gallery [images]="image_report_group.images">
        <div class="col-lg-2 col-md-3 col-sm-6 image-single" *ngFor="let image of image_report_group.images; let i = index">
          <img src="{{image.src}}" class="img-responsive" [attr.data-id]="i"/>
          <p class="image-title">{{image.title}}</p>

          <div class="image-actions">
            <a (click)="imageReportForm.open(image)">
              <i class="fa fa-pencil" aria-hidden="true"></i>
            </a>
            <a class="delete-action" (click)="remove(image, 'Image')">
              <i class="fa fa-trash-o" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </div>
    </section>
  </fieldset>

  <header>Notes of Day</header>
  <fieldset>
    <section>
      <button 
        class="demeter-btn create-btn primary pull-right"
        (click)="noteForm.open()">Add</button>
      <table class="table table-hover table-bordered">
        <thead>
          <tr>
              <th>No.</th>
              <th>Name</th>
              <th>Content</th>
              <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let note of notes; let i = index;" class="demeter-pane">
            <td>{{i + 1}}</td>
            <td>{{note.name}}</td>
            <td>{{note.content}}</td>
            <td class="col-actions">
              <a (click)="noteForm.open(note)">
                <i class="fa fa-pencil" aria-hidden="true"></i>
              </a>
              <a class="delete-action" (click)="remove(note, 'Note')">
                <i class="fa fa-trash-o" aria-hidden="true"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  </fieldset>
</form>

<irrigation-form #irrigationForm (resolve)="irrigationFormResolve($event)"></irrigation-form>
<pest-disease-form #pestDiseaseForm (resolve)="pestDiseaseFormResolve($event)"></pest-disease-form>
<image-report-form #imageReportForm 
  (resolve)="imageReportFormResolve($event)"
  [imageReportTypes]="image_report_types"></image-report-form>
<note-form #noteForm
  (resolve)="noteFormResolve($event)"></note-form>